document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("cookies"),t=document.getElementById("cookiesAcceptButton"),n=document.getElementById("cookiesDeclineButton"),i=localStorage.getItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies");function o(){const e=document.createElement("script");function t(){dataLayer.push(arguments)}e.src="https://www.googletagmanager.com/gtag/js?id=G-43C8S7QD4X",e.async=!0,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config","G-43C8S7QD4X",{anonymize_ip:!0})}i?(e.style.display="none","accepted"===i&&o()):e.style.display="block",t.addEventListener("click",(function(){localStorage.setItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies","accepted"),e.style.display="none",o()})),n.addEventListener("click",(function(){localStorage.setItem("TabsOnFire ðŸ”¥ðŸ—‚ï¸ Cookies","declined"),e.style.display="none"}))}));const currentPage=document.body.id;document.querySelectorAll("nav a").forEach((e=>{e.dataset.page===currentPage&&e.classList.add("active")}));const inputsDiv=document.getElementById("urls"),snippet=document.getElementById("snippet"),addBtn=document.getElementById("addBtn"),copyBtn=document.getElementById("copyBtn"),arrowTemplate=document.getElementById("arrowTemplate").content;function updateSnippet(){const e=[...inputsDiv.querySelectorAll(".url-input")].map((e=>e.value.trim())).filter((e=>""!==e));snippet.value=e.join("|")}function updateInputsFromSnippet(){const e=snippet.value.split("|").map((e=>e.trim()));inputsDiv.innerHTML="",0!==e.length?(e.forEach((e=>{addInput(e)})),updateArrowButtonsState()):addInput()}function addInput(e=""){const t=document.createElement("div");t.className="input-wrapper";const n=document.createElement("input");n.type="text",n.className="url-input",n.value=e,n.placeholder="https://www.example.com",t.appendChild(n);const i=document.importNode(arrowTemplate,!0);t.appendChild(i),inputsDiv.appendChild(t),updateSnippet(),updateArrowButtonsState()}function moveWrapper(e,t){"up"===t&&e.previousElementSibling&&inputsDiv.insertBefore(e,e.previousElementSibling),"down"===t&&e.nextElementSibling&&inputsDiv.insertBefore(e.nextElementSibling,e),updateSnippet(),updateArrowButtonsState()}function updateArrowButtonsState(){const e=inputsDiv.querySelectorAll(".input-wrapper");if(e.forEach((e=>{const t=e.querySelector(".upBtn"),n=e.querySelector(".downBtn");t&&(t.classList.remove("disabled"),t.removeAttribute("tabindex")),n&&(n.classList.remove("disabled"),n.removeAttribute("tabindex"))})),!e.length)return;const t=e[0].querySelector(".upBtn");t&&(t.classList.add("disabled"),t.setAttribute("tabindex","-1"));const n=e[e.length-1].querySelector(".downBtn");n&&(n.classList.add("disabled"),n.setAttribute("tabindex","-1"))}inputsDiv.addEventListener("click",(e=>{const t=e.target.closest(".upBtn"),n=e.target.closest(".downBtn"),i=e.target.closest(".removeBtn"),o=e.target.closest(".input-wrapper");o&&(t&&(moveWrapper(o,"up"),t.blur()),n&&(moveWrapper(o,"down"),n.blur()),i&&(o.remove(),updateSnippet(),updateArrowButtonsState()))})),inputsDiv.addEventListener("input",updateSnippet),snippet.addEventListener("input",(()=>{const e=snippet.value,t=snippet.selectionStart,n=snippet.selectionEnd;(0===e.length||!e.startsWith("|")&&!e.endsWith("|")&&!e.includes("||"))&&updateInputsFromSnippet(),snippet.setSelectionRange(t,n)})),addBtn.addEventListener("click",(()=>addInput())),inputsDiv.querySelector(".input-wrapper")||addInput(),updateArrowButtonsState(),copyBtn.addEventListener("click",(async()=>{try{await navigator.clipboard.writeText(snippet.value);const e=copyBtn.innerHTML;copyBtn.innerHTML="Copied to clipboard!",setTimeout((()=>{copyBtn.innerHTML=e}),2e3)}catch(e){const t=copyBtn.innerHTML;copyBtn.innerHTML="Failed to copy",setTimeout((()=>{copyBtn.innerHTML=t}),2e3)}})),document.getElementById("year").textContent=(new Date).getFullYear();